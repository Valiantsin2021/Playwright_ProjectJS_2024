# Instructions

- Following Playwright test failed.
- Explain why, be concise, respect Playwright best practices.
- Provide a snippet of code with the fix, if possible.

# Test info

- Name: shopping Cart >> Redirected to the updated Shopping cart page after add item to Wish List
- Location: /home/runner/work/Playwright_ProjectJS_2024/Playwright_ProjectJS_2024/tests/testsPOM/shoppingCart.spec.js:38:3

# Error details

```
Error: locator.waitFor: Test timeout of 60000ms exceeded.
Call log:
  - waiting for getByText('Move to Wishlist') to be visible

    at ShoppingCartPage.waitForMoveToWishListLink (/home/runner/work/Playwright_ProjectJS_2024/Playwright_ProjectJS_2024/page_objects/shoppingCartPage.js:27:49)
    at /home/runner/work/Playwright_ProjectJS_2024/Playwright_ProjectJS_2024/tests/testsPOM/shoppingCart.spec.js:47:28
```

# Page snapshot

```yaml
- paragraph: This is a demo store to test your test automaiton scripts. No orders will be fulfilled. If you are facing any issue, email us at hello@softwaretestingboard.com.
- banner:
  - link "Skip to Content"
  - list:
    - listitem:
      - link
    - listitem:
      - link "Sign In"
      - text: or
    - listitem:
      - link "Create an Account"
  - link "store logo"
  - link " My Cart 1 1 items"
  - text:  Search
  - combobox " Search"
  - button "Search" [disabled]:  Search
  - list:
    - listitem
- tablist:
  - tabpanel:
    - navigation:
      - menu:
        - menuitem "What's New"
        - menuitem " Women"
        - menuitem " Men"
        - menuitem " Gear"
        - menuitem " Training"
        - menuitem "Sale"
- main:
  - heading "Shopping Cart" [level=1]
  - strong: Summary
  - tablist:
    - tab "Estimate Shipping and Tax ":
      - heading "Estimate Shipping and Tax" [level=2]
      - text: 
  - table "Total":
    - rowgroup:
      - row "Subtotal $59.00":
        - rowheader "Subtotal"
        - cell "$59.00"
      - row "Tax $0.00":
        - rowheader "Tax"
        - cell "$0.00"
      - row "Order Total $59.00":
        - rowheader "Order Total":
          - strong: Order Total
        - cell "$59.00":
          - strong: $59.00
  - list:
    - listitem:
      - button "Proceed to Checkout"
    - listitem:
      - link "Check Out with Multiple Addresses"
  - table "Shopping Cart Items":
    - caption: Shopping Cart Items
    - rowgroup:
      - row "Item Price Qty Subtotal":
        - columnheader "Item"
        - columnheader "Price"
        - columnheader "Qty"
        - columnheader "Subtotal"
    - rowgroup:
      - 'row "Inez Full Zip Jacket Inez Full Zip Jacket Size: L Color: Orange $59.00 Qty 1 $59.00"':
        - 'cell "Inez Full Zip Jacket Inez Full Zip Jacket Size: L Color: Orange"':
          - link "Inez Full Zip Jacket":
            - img "Inez Full Zip Jacket"
          - strong:
            - link "Inez Full Zip Jacket"
          - term: "Size:"
          - definition: L
          - term: "Color:"
          - definition: Orange
        - cell "$59.00"
        - cell "Qty 1":
          - text: Qty
          - spinbutton "Qty": "1"
        - cell "$59.00"
      - row " Edit  Remove item":
        - cell " Edit  Remove item":
          - link " Edit"
          - link " Remove item"
  - button "Update Shopping Cart"
  - tablist:
    - tab "Apply Discount Code ":
      - heading "Apply Discount Code" [level=2]
      - text: 
  - heading "More Choices:" [level=2]
  - list:
    - listitem:
      - link "Affirm Water Bottle":
        - img "Affirm Water Bottle"
      - strong:
        - link "Affirm Water Bottle"
      - text: "$7.00 Rating:   60%"
      - link "1 Review"
      - button "Add to Cart"
      - button "Add to Wish List":  Add to Wish List
      - button "Add to Compare":  Add to Compare
    - listitem:
      - link "Set of Sprite Yoga Straps":
        - img "Set of Sprite Yoga Straps"
      - strong:
        - link "Set of Sprite Yoga Straps"
      - paragraph: Starting at $14.00
      - button "Add to Cart"
      - button "Add to Wish List":  Add to Wish List
      - button "Add to Compare":  Add to Compare
    - listitem:
      - link "Go-Get'r Pushup Grips":
        - img "Go-Get'r Pushup Grips"
      - strong:
        - link "Go-Get'r Pushup Grips"
      - text: "$19.00 Rating:   87%"
      - link "3 Reviews"
      - button "Add to Cart"
      - button "Add to Wish List":  Add to Wish List
      - button "Add to Compare":  Add to Compare
    - listitem:
      - link "Sprite Foam Roller":
        - img "Sprite Foam Roller"
      - strong:
        - link "Sprite Foam Roller"
      - text: $19.00
      - button "Add to Cart"
      - button "Add to Wish List":  Add to Wish List
      - button "Add to Compare":  Add to Compare
- contentinfo:
  - list:
    - listitem:
      - link "Notes"
    - listitem:
      - link "Practice API Testing using Magento 2"
    - listitem:
      - link "Write for us"
    - listitem:
      - link "Subscribe"
  - list:
    - listitem:
      - link "Search Terms"
    - listitem:
      - link "Privacy and Cookie Policy"
    - listitem:
      - link "Advanced Search"
    - listitem:
      - link "Orders and Returns"
- text: We know you have an assignment to complete. If this site is not functioning as expected, drop us an email. Copyright © 2013-present Magento, Inc. All rights reserved.
```

# Test source

```ts
   1 | import ShippingPage from './shippingPage'
   2 |
   3 | class ShoppingCartPage {
   4 |   /**
   5 |    * Class constructor for BasePage.
   6 |    * @constructor
   7 |    * @param {import('@playwright/test').Page} page - Page passed in the constructor of the Page Object Model.
   8 |    */
   9 |   constructor(page) {
  10 |     this.page = page
  11 |   }
  12 |   locators = {
  13 |     getMoveToWishListLink: () => this.page.getByText('Move to Wishlist'),
  14 |     getAlerMessageAddToWishList: () => this.page.locator(`.page.messages`),
  15 |     getEmptyCartMessage: () => this.page.locator(`div.cart-empty`),
  16 |     getOrderTotalText: () => this.page.getByText('Order Total'),
  17 |     getProceedToCheckoutButton: () => this.page.locator('button[data-role="proceed-to-checkout"].checkout')
  18 |   }
  19 |
  20 |   async clickMoveToWishListLink() {
  21 |     await this.locators.getMoveToWishListLink().click()
  22 |
  23 |     return this
  24 |   }
  25 |
  26 |   async waitForMoveToWishListLink() {
> 27 |     await this.locators.getMoveToWishListLink().waitFor({ state: 'visible' })
     |                                                 ^ Error: locator.waitFor: Test timeout of 60000ms exceeded.
  28 |
  29 |     return this
  30 |   }
  31 |   async waitForOrderTotalText() {
  32 |     await this.locators.getOrderTotalText().waitFor({ state: 'visible' })
  33 |
  34 |     return this
  35 |   }
  36 |
  37 |   async clickProceedToCheckoutButton() {
  38 |     await this.locators.getProceedToCheckoutButton().click()
  39 |
  40 |     return new ShippingPage(this.page)
  41 |   }
  42 | }
  43 | export default ShoppingCartPage
  44 |
```

# Local changes

```diff
diff --git a/.github/workflows/merge-gatekeeper.yml b/.github/workflows/merge-gatekeeper.yml
deleted file mode 100644
index 9249be9..0000000
--- a/.github/workflows/merge-gatekeeper.yml
+++ /dev/null
@@ -1,18 +0,0 @@
-name: Merge Gatekeeper
-
-on:
-  pull_request:
-    branches:
-      - main
-
-jobs:
-  merge-gatekeeper:
-    runs-on: ubuntu-latest
-    permissions:
-      checks: read
-      statuses: read
-    steps:
-      - name: Run Merge Gatekeeper
-        uses: upsidr/merge-gatekeeper@v1
-        with:
-          token: ${{ secrets.GITHUB_TOKEN }}
\ No newline at end of file
diff --git a/.github/workflows/playwright-shard.yml b/.github/workflows/playwright-shard.yml
index 2e31bdd..fdf8f5b 100644
--- a/.github/workflows/playwright-shard.yml
+++ b/.github/workflows/playwright-shard.yml
@@ -151,4 +151,4 @@ jobs:
         if: always()
         run: |
           npm ci
-          node ./helpers/reporter.js
+          find . -type f -name "summary.json" | xargs -I {} node ./helpers/reporter.js {}
diff --git a/helpers/reporter.js b/helpers/reporter.js
index a204fd2..08b4f0b 100644
--- a/helpers/reporter.js
+++ b/helpers/reporter.js
@@ -5,10 +5,10 @@ import FormData from 'form-data'
 import fs from 'fs'
 
 dotenv.config()
-function readAllureData() {
+function readAllureData(path = './allure-report/widgets/summary.json') {
   try {
-    // const summaryData = JSON.parse(fs.readFileSync('./report/allure-report/widgets/summary.json', 'utf8'))
-    const summaryData = JSON.parse(fs.readFileSync('./allure-report/widgets/summary.json', 'utf8'))
+    const summaryData = JSON.parse(fs.readFileSync(path, 'utf8'))
+    // const summaryData = JSON.parse(fs.readFileSync('./allure-report/widgets/summary.json', 'utf8'))
     return {
       passed: summaryData.statistic.passed || 0,
       failed: summaryData.statistic.failed || 0,
@@ -164,8 +164,8 @@ async function sendSlackNotification(data, imageBuffer, environment = 'test') {
   }
 }
 
-async function generateReportAndNotify(environment = 'test') {
-  const data = readAllureData()
+async function generateReportAndNotify(path, environment = 'test') {
+  const data = readAllureData(path)
   const durationFormatted = formatDuration(data.duration)
   console.log(`PASSED=${data.passed}`)
   console.log(`FAILED=${data.failed}`)
@@ -188,10 +188,10 @@ async function generateReportAndNotify(environment = 'test') {
     chartPath
   }
 }
-
+const path = process.argv[2]
 const environment = process.argv[3] || process.env.platform
 
-generateReportAndNotify(environment).catch(err => {
+generateReportAndNotify(path, environment).catch(err => {
   console.error('Error generating report and sending notification:', err)
   process.exit(1)
 })
```